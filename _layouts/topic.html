---
layout: shell
---

<div class="card">
    <div class="section-title">
        <h3>{{ page.title }}</h3>
        <span>Topic</span>
    </div>

    {% assign items = "" | split: "" %}
    {% assign key = page.topic_key | default: "" | strip %}

    {%- comment -%}
    Enforce exact match:
    - tags in posts must be identical to topic_key (slug string)
    {%- endcomment -%}

    {% if key != "" and site.tags and site.tags[key] %}
    {% assign items = site.tags[key] | sort: "date" | reverse %}
    {% endif %}

    {% if items.size == 0 %}
    <p style="color: var(--muted); margin: 0;">
        No posts found for topic: <code>{{ key }}</code>
    </p>
    {% endif %}

    <div class="list" style="margin-top: 12px;">
        {% for post in items %}
        <a class="item" href="{{ post.url | relative_url }}">
            <div class="meta">
                {% if post.categories and post.categories.size > 0 %}
                <span class="tag">{{ post.categories[0] }}</span>
                {% else %}
                <span class="tag">post</span>
                {% endif %}
                <span class="date">{{ post.date | date: "%Y-%m-%d" }}</span>
            </div>

            <h4>{{ post.title }}</h4>
            <p>
                {% if post.description %}
                {{ post.description }}
                {% else %}
                {{ post.excerpt | strip_html | truncate: 80 }}
                {% endif %}
            </p>
        </a>
        {% endfor %}
    </div>
</div>